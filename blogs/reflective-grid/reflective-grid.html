<html>
    <head>
        <title> Rippling Grid </title>
        <link rel="stylesheet" type="text/css" href="../../theme.css" media="screen" charset="utf-8"/>
        <link rel="stylesheet" type="text/css" href="./reflective-grid.css">
        <script type="text/javascript" src="reflective-grid.js"></script>
    </head>

    <body>
        <div class="bio-container">
            <!-- profile info -->
            <div class="profile">
                <img alt="profile-pic" src="../../img/profile_img.jpg"/>
                <div><a href="../../index.html"> Doug Rudolph </a></div>
            </div>

            <!-- Description -->
            <div class="description">
                <div class="description-entry"> First engineer <a target="_blank" href="https://www.Interseller.io/about">@Interseller.io</a> </div>
                <div class="description-entry"> Former back-end engineer <a href="https://buzzfeed.com">@BuzzFeed</a> </div>
                <div class="description-entry"> Former SWE intern <a target="_blank" href="https://tech.buzzfeed.com/meet-buzzfeed-techs-2017-intern-squad-7d9d3bcefa05">@BuzzFeed</a> </div>
                <div class="description-entry"> <a target="_blank" href="https://hackny.org/blog/2017/06/announcing-the-class-of-2017-hackny-fellows">@hackNY Fellow </a> â€“ 2017 </div>
                <div class="description-entry"> Rendering ðŸ‘¾ â€“ Rust ðŸ¦€ â€“ Haskell <b style="color: purple">Î»</b></div>
            </div>

            <div class="page-menu">
                <a href="../../index.html"> Blog posts </a>
                <a href="../../about.html"> About me </a>
                <a href="../../contact.html"> Contact info </a>
            </div>

            <div class="bio-links">
                <div>
                    <a href="../../doug_rudolph_resume.pdf" target="_blank">
                        <span class="icon-container">
                            <img class="icon" src="../../svg/resume.svg"/>
                        </span>
                    </a>
                </div>
                <div>
                    <a href="mailto:drudolph914@gmail.com?Subject=Hello" target="_top">
                        <span class="icon-container">
                            <img class="icon" src="../../svg/mail.svg"/>
                        </span>
                    </a>
                </div>
                <div>
                    <a href="https://twitter.com/_dougrudolph" target="_blank">
                        <span class="icon-container">
                            <img class="icon" src="../../svg/twitter.svg"/>
                        </span>
                    </a>
                </div>
                <div>
                    <a href="https://github.com/11" target="_blank">
                        <span class="icon-container">
                            <img class="icon" src="../../svg/github.svg"/>
                        </span>
                    </a>
                </div>
                <div>
                    <a href="https://linkedin.com/in/dougjrudolph" target="_blank">
                        <span class="icon-container">
                            <img class="icon" src="../../svg/linkedin.svg"/>
                        </span>
                    </a>
                </div>
            </div>

            <div class="bio-footer">
                Â© All rights reserved â€“ Theme by: <a target="_blank" href="https://twitter.com/_dougrudolph">@_dougrudolph</a>
            </div>
        </div>
        <div class="blog">
            <div class="blog-header">
                <h2>Reflective Grid</h2>
                <span>Posted on May 28th, 2018</span>
                <p>
                    Rippling effect based on a waving flag
                </p>
            </div>
            <hr/>

            <!-- Begin Content Here -->
            <canvas id="Canvas"></canvas>
            <!-- End content here -->

            <hr/>
            <div class="blog-container">
                <p>
                    So because it is memorial day, I was thinking about a new animation to code with the extra day off
                    from work; and because Google is showing a waving American Flag as the banner to Google searches,
                    I decided to create a rippling/reflective grid effect inspired by a waving flag.
                </p>

                <img src="./img/mem-day.PNG" alt="memorial day" align="middle" width="80%"/>

                <p>
                    Now granted, the animation is slightly off, at least I think it is, but nonetheless, the animation was fun to code.
                    Something worth mentioning is that while a lot of the code I used was boilerplate code that I recycled from my previous projects,
                    trying to figure out an elegant solution to giving each node's radius an offset in size was pretty tricky.
                </p>

                <p>
                    In order to create the offset, I used a fun modulus arithmetic trick:
                </p>

                <div class="code-block"><pre>
    //iterate over columns
    for(var i = 0; i < this.size; i++){

        // array that has a given row of nodes appended to it
        var row = [];

        //iterate over rows
        for(var j = 0; j < this.size; j++){

            // increase the radius for every node by 1
            // once we have inserted this.size amount of nodes,
            // reset the radius back to 1
            radius_delta = (radius_delta + 1) % (size-1);

            //append node
            row.push(new Node(h_center + i*node_displacement,
                        v_center + j*node_displacement,
                        radius_delta));
        }

        // add array of nodes to grid
        this.nodes.push(row);
    }</pre></div>


                <p>
                    As the code shows, the trick I use applies the <code>mod</code> operator in order to limit the max size of the radius.
                    By ensuring a given node's radius is never larger than a certain value - in this case, that value is <code>this.size - 1</code>,
                    the outcome is this offset of varying radii that seem to wrap the grid.
                </p>

                <p>
                    Thanks for viewing, and as always, until next time :)
                </p>
            </div>
        </div>
    </body>
</html>
